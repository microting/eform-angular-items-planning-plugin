<eform-new-subheader>
  <div class="d-flex flex-row align-items-center gap-12">
    <button
      class="btn-secondary btn-secondary--icon-rounded-border"
      id="importPlanningsBtn"
      matTooltip="{{ 'Import plannings' | translate }}"
      *ngIf="isAuth$ | async"
      (click)="openPlanningsImportModal()"
    >
      <mat-icon>file_upload</mat-icon>
    </button>
    <button
      class="btn-secondary btn-secondary--icon-rounded-border"
      id="planningManageTagsBtn"
      (click)="openTagsModal()"
      matTooltip="{{ 'Manage tags' | translate }}"
    >
      <mat-icon>discount</mat-icon>
    </button>

    <div class="line-vert"></div>
    <button
      class="btn-primary btn-primary--icon-left"
      *ngIf="authStateService.checkClaim(itemsPlanningPnClaims.createPlannings)"
      id="planningCreateBtn"
      matTooltip="{{ 'Create Planning' | translate }}"
      [routerLink]="['./create']"
    >
      {{ 'New planning' | translate }}
    </button>
  </div>
</eform-new-subheader>

<app-plannings-header
  [availableTags]="availableTags"
  [sites]="sitesDto"
  (descriptionFilterChanged)="onDescriptionFilterChanged($event)"
  (nameFilterChanged)="onNameFilterChanged($event)"
  (savedSiteRemoved)="removeSavedDeviceUser($event)"
  (siteSaved)="saveDeviceUser($event)"
  (savedTagRemoved)="removeSavedTag($event)"
  (tagSaved)="saveTag($event)"
></app-plannings-header>
<button
 class="btn-warning mb-4 ml-3"
  [disabled]="
    !selectedPlanningsCheckboxes || selectedPlanningsCheckboxes.length === 0
  "
  id="deleteMultiplePluginsBtn"
  matTooltip="{{ 'Delete selected' | translate }}"
  (click)="showDeleteMultiplePlanningsModal()"
>
  {{ 'Delete Planning' | translate }}
</button>
<app-plannings-table
  [planningsModel]="planningsModel"
  [selectedColCheckboxes]="selectedPlanningsCheckboxes"
  (openAssignmentModal)="openAssignmentModal($event)"
  (showDeletePlanningModal)="showDeletePlanningModal($event)"
  (sortTable)="sortTable($event)"
  (tagSelected)="tagSelected($event)"
  (selectedPlanningsChanged)="selectedPlanningsChanged($event)"
  (paginationChanged)="onPaginationChanged($event)"
></app-plannings-table>

<app-planning-tags
  #planningTagsModal
  [availableTags]="availableTags"
></app-planning-tags>
