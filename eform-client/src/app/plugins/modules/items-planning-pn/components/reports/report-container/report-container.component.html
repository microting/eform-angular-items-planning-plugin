<subheader-pn [title]="'Generate Report' | translate">

</subheader-pn>

<div class="container-fluid">
  <app-items-planning-pn-report-header [range]="range"
                                       [availableTags]="availableTags"
                                       (downloadReport)="onDownloadReport($event)"
                                       (generateReport)="onGenerateReport($event)">
  </app-items-planning-pn-report-header>
  <ng-container *ngFor="let report of reportsModel">
    <div class="mb-4">
      <h4>{{report.name}}</h4>
      <app-report-table [items]="report.items"
                        [itemHeaders]="report.itemHeaders"
                        [dateFrom]="dateFrom"
                        [dateTo]="dateTo"
                        [newPostModal]="newPostModal"></app-report-table>
      <app-report-images [imageNames]="report.imageNames"></app-report-images>
      <app-report-posts [posts]="report.posts"></app-report-posts>
    </div>
  </ng-container>
</div>


<app-case-post-new #newPostModal (postCreated)="postDoneRedirect()"
                   [pdfReportAvailable]="casePostsListModel.pdfReportAvailable"
                   [currentUserFullName]="currentUserFullName"
                   [availableRecipients]="availableEmailRecipients"
                   [availableRecipientsAndTags]="availableEmailRecipientsAndTags"
                   [eformId]="selectedEformId"
                   [caseId]="selectedCaseId"></app-case-post-new>
