<div class="row p-1 mt-4 table-responsive no-gutters">
  <table
    *ngIf=" pairingsModel.deviceUsers && pairingsModel.pairings &&
      pairingsModel.deviceUsers.length > 0 && pairingsModel.pairings.length > 0
    "
    mdbTable
    striped="true"
    hover="true"
    small="true"
    class="z-depth-1 text-center"
  >
    <thead>
      <tr>
        <th scope="col"></th>
        <th
          scope="col"
          id="deviceUserTableHeader{{ i }}"
          *ngFor="let deviceUser of pairingsModel.deviceUsers; let i = index"
        >
          <div class="d-flex flex-column">
            <div>{{ deviceUser }}</div>
            <div>
              <div class="mat-checkbox" *ngIf="selectedColCheckboxes[i]">
                <input
                  id="deviceUserColumnCheckbox{{ i }}"
                  name="deviceUserColumnCheckbox{{ i }}"
                  (click)="selectDeviceUserColumn($event, i)"
                  [value]="selectedColCheckboxes[i].checked"
                  [checked]="selectedColCheckboxes[i].checked"
                  type="checkbox"
                />
                <label for="deviceUserColumnCheckbox{{ i }}"></label>
              </div>
            </div>
          </div>
        </th>
      </tr>
    </thead>
    <tbody id="tableBody">
      <tr *ngFor="let pairing of pairingsModel.pairings; let y = index">
        <td id="planningName{{ pairing.planningId }}">
          <div class="d-flex justify-content-between">
            <div class="text-center">{{ pairing.planningName }}</div>
            <div>
              <div class="mat-checkbox" *ngIf="selectedRowCheckboxes[y]">
                <input
                  id="planningRowCheckbox{{ y }}"
                  name="planningRowCheckbox{{ y }}"
                  (click)="selectPlanningRow($event, y)"
                  type="checkbox"
                  [value]="selectedRowCheckboxes[y].checked"
                  [checked]="selectedRowCheckboxes[y].checked"
                />
                <label for="planningRowCheckbox{{ y }}"></label>
              </div>
            </div>
          </div>
        </td>
        <td *ngFor="let planningValue of pairing.pairingValues">
          <div class="mat-checkbox">
            <input
              id="deviceUserCheckbox{{ planningValue.deviceUserId }}_planning{{
                pairing.planningId
              }}"
              name="deviceUserCheckbox{{
                planningValue.deviceUserId
              }}_planning{{ pairing.planningId }}"
              (click)="
                checked($event, pairing.planningId, planningValue.deviceUserId)
              "
              [value]="planningValue.paired"
              [checked]="planningValue.paired"
              type="checkbox"
            />
            <label
              for="deviceUserCheckbox{{ planningValue.deviceUserId }}_planning{{
                pairing.planningId
              }}"
            ></label>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
